{
  "title": "Apple keyboard mappings for Windows",
  "rules": [
    {
      "description": "Swap Option [Alt] and Command [Win] keys on Apple keyboards",
      <%
        applications = {
          "type"=>"frontmost_application_if",
          "bundle_identifiers"=>[
            "^com\\.google\\.Chrome\\.app"
          ],
          "file_paths"=>[
            "\/Chrome Remote Desktop\\.app"
          ],
          "description"=>"Chrome Remote Desktop app for MacOS"
        }
      %>
      <%
        apple_keyboard = {
          "type"=>"device_if",
          "identifiers": [
            {
              "vendor_id": 1452,
              "is_keyboard": true
            }
          ],
          "description": "Apple keyboard"
        }
      %>
      "manipulators": [
        {
          "type": "basic",
          "from": <%= from("left_option", [], ["any"]) %>,
          "to": <%= to([["left_command"]]) %>,
          "conditions": <%= JSON.generate([applications, apple_keyboard]) %>
        },
        {
          "type": "basic",
          "from": <%= from("left_command", [], ["any"]) %>,
          "to": <%= to([["left_option"]]) %>,
          "conditions": <%= JSON.generate([applications, apple_keyboard]) %>
        },
        {
          "type": "basic",
          "from": <%= from("right_option", [], ["any"]) %>,
          "to": <%= to([["right_command"]]) %>,
          "conditions": <%= JSON.generate([applications, apple_keyboard]) %>
        },
        {
          "type": "basic",
          "from": <%= from("right_command", [], ["any"]) %>,
          "to": <%= to([["right_option"]]) %>,
          "conditions": <%= JSON.generate([applications, apple_keyboard]) %>
        }
      ]
    }
  ]
}